<%- include('header') -%>
<body class="has-background-light">
    <div class="container is-widescreen">
        <div class="m-4">
            <div class="columns">
                <div class="column is-half is-offset-one-quarter">
                    <form action="/create/" method="POST" enctype="multipart/form-data">
                        <div class="box">
                            <div class="field">
                                <label class="label">ชื่อเมนู</label>
                                <div class="control">
                                  <input class="input is-info" type="text" name="title" placeholder="ชื่อเมนูของคุณ">
                                </div>
                            </div>
                          
                            <div class="field">
                                <label class="label">คำอธิบาย</label>
                                <div class="control">
                                    <textarea class="textarea is-info" name="description" placeholder="คำอธิบายเมนูของคุณ"></textarea>
                                </div>
                            </div>
                            <div class="field">
                                <div id="file-js" class="file is-info is-centered has-name is-boxed  is-fullwidth">
                                    <label class="file-label">
                                      <input class="file-input" type="file" name="mainImage">
                                      <span class="file-cta">
                                        <span class="file-icon">
                                          <i class="fas fa-upload"></i>
                                        </span>
                                        <span class="file-label has-text-centered">
                                          <!-- Choose a file… -->
                                          เลือกภาพเมนูของคุณ
                                        </span>
                                      </span>
                                      <span class="file-name has-text-centered">
                                        No file uploaded
                                      </span>
                                    </label>
                                </div>
                            </div>

                        <!-- ส่วนผสม -->
                        <!-- <div class="box"> -->
                            <div class="listIngredient">
                                <ul class="list">
                                    
                                </ul>
                            </div>
                            <label class="label">ส่วนผสม</label>
                            <div class="columns">
                                
                                <div class="column is-8">
                                    <div class="field">
                                        
                                        <div class="control">
                                            <input class="input is-info" id="addIngre" type="text" placeholder="Text input">
                                        </div>
                                    </div>
                                </div>
                                <div class="column is-4">
                                    <div class="field">
                                        <div class="control">
                                            <button class="button is-link is-light" id="addBtn" onclick="addLists()">
                                                <span class="icon-text">
                                                    <span class="icon is-medium">
                                                        <i class="fa-solid fa-plus"></i>
                                                    </span>
                                                    <span>เพิ่มส่วนผสม</span>
                                                </span>
                                            </button>
                                        </div>
                                      </div>      
                                </div>
                            </div>
                        <!-- </div> -->
            
                            <div class="field is-grouped">
                                <div class="control">
                                    <input type="submit" class="button is-primary" value="submit">
                                </div>
                                <div class="control">
                                  <button class="button is-primary is-light" onclick="window.location.replace='/'">cancel</button>
                                </div>
                            </div>
                        </div>

                        

                        
                      
                        
                    </form>
                </div>
            </div>
        </div>
        <section>
            
        </section>


    </div>
    <script>
        const fileInput = document.querySelector('#file-js input[type=file]');
        fileInput.onchange = () => {
          if (fileInput.files.length > 0) {
            const fileName = document.querySelector('#file-js .file-name');
            fileName.textContent = fileInput.files[0].name;
          }
        }


        // create variables
        const divList = document.querySelector('.listIngredient');
        const addIngre = document.querySelector('#addIngre');
        const addBtn = document.querySelector('#addBtn');

       

        addBtn.addEventListener('click', () => {
            if (addIngre.value === '') {
            alert('Enter the list name please!!!');
          } else {
            const ul = divList.querySelector('ul');
            const li = document.createElement('li');
            li.innerHTML = addIngre.value;
            addIngre.value = '';
            ul.appendChild(li);
            
          }
        })
       
    </script>
</body>